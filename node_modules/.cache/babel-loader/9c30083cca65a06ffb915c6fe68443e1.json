{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar store_1 = require(\"../store\");\nvar websocket_1 = require(\"../services/websocket\");\nvar NCEventType;\n(function (NCEventType) {\n  NCEventType[\"TRANSFER_CONFIRMATION\"] = \"TRANSFER_CONFIRMATION\";\n})(NCEventType = exports.NCEventType || (exports.NCEventType = {}));\nfunction subscribe(config) {\n  var address = config.address,\n    token = config.token,\n    event = config.event,\n    callback = config.callback;\n  if (token == null) token = store_1.store.contractAddress;\n  if (event === NCEventType.TRANSFER_CONFIRMATION) {\n    return websocket_1.websocket.events.on(websocket_1.websocket.defineEvent(websocket_1.WSEventType.TRANSFER_CONFIRMATION, address, token), function (payload) {\n      if (payload.recipient.address === address && payload.recipient.token === token) {\n        callback(payload);\n      }\n    });\n  } else {\n    throw new Error('Invalid event type, please use one of NCEventType');\n  }\n}\nexports.default = subscribe;","map":null,"metadata":{},"sourceType":"script"}