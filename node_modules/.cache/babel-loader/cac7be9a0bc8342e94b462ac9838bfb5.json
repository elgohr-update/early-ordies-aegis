{"ast":null,"code":"import _objectSpread from \"/home/cryptodev/Dev/aegis-burner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/cryptodev/Dev/aegis-burner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/cryptodev/Dev/aegis-burner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/cryptodev/Dev/aegis-burner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/cryptodev/Dev/aegis-burner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/cryptodev/Dev/aegis-burner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/home/cryptodev/Dev/aegis-burner/src/pages/ScannerPage.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport i18n from '../i18n';\nimport { Reader, LegacyReader } from '../components/SendByScan';\nvar qs = require('query-string');\nvar ScannerPage = /*#__PURE__*/function (_Component) {\n  _inherits(ScannerPage, _Component);\n  var _super = _createSuper(ScannerPage);\n  function ScannerPage(props) {\n    var _this;\n    _classCallCheck(this, ScannerPage);\n    _this = _super.call(this, props);\n    _this.handleError = function (error) {\n      console.log('SCAN ERROR');\n      console.error(error);\n      _this.setState({\n        legacyMode: true\n      });\n      _this.props.onError(error);\n    };\n    _this.handleFailure = function (scanFail) {\n      _this.setState({\n        scanFail: scanFail\n      });\n      setTimeout(function () {\n        _this.setState({\n          scanFail: false\n        });\n      }, 3500);\n    };\n    var defaultToLegacyMode = false;\n    if (!navigator || !navigator.mediaDevices) {\n      defaultToLegacyMode = true;\n    }\n    _this.state = {\n      legacyMode: defaultToLegacyMode,\n      scanFail: false\n    };\n    return _this;\n  }\n  _createClass(ScannerPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$state = this.state,\n        legacyMode = _this$state.legacyMode,\n        scanFail = _this$state.scanFail,\n        scanData = _this$state.scanData;\n      if (scanData) {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: {\n            pathname: '/liquidity/send/' + scanData.toAddress,\n            search: qs.stringify(_objectSpread({}, qs.parse(this.props.search), scanData.search))\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 14\n          }\n        });\n      }\n      var failMessage = '';\n      if (scanFail) {\n        failMessage = /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            position: 'absolute',\n            left: 0,\n            top: 0,\n            zIndex: 99,\n            fontSize: 24,\n            color: '#FF0000',\n            backgroundColor: '#333333',\n            opacity: 0.9,\n            width: '100%',\n            height: '100%',\n            fontWeight: 'bold'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            textAlign: 'center',\n            paddingTop: '15%'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            marginBottom: 20\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fas fa-ban\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 47\n          }\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            textAlign: 'center',\n            paddingTop: '25%'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }\n        }, i18n.t('send_by_scan.try_again'))), /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '10%',\n            paddingTop: '15%',\n            fontSize: 16\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }\n        }, scanFail)));\n      }\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          zIndex: 5,\n          margin: '0 auto !important',\n          background: '#000000'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: 'absolute',\n          zIndex: 256,\n          top: 20,\n          right: 20,\n          fontSize: 80,\n          paddingRight: 20,\n          color: '#FFFFFF',\n          cursor: 'pointer'\n        },\n        onClick: function onClick() {\n          return _this2.props.goBack();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-times\",\n        \"aria-hidden\": \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }\n      })), legacyMode ? /*#__PURE__*/React.createElement(LegacyReader, {\n        onSuccess: function onSuccess(scanData) {\n          _this2.setState({\n            scanData: scanData\n          });\n        },\n        onFail: function onFail(scanFail) {\n          _this2.handleFailure(scanFail);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 23\n        }\n      }) : /*#__PURE__*/React.createElement(Reader, {\n        onError: this.handleError,\n        onSuccess: function onSuccess(scanData) {\n          _this2.setState({\n            scanData: scanData\n          });\n        },\n        onFail: function onFail(scanFail) {\n          _this2.handleFailure(scanFail);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: 'absolute',\n          zIndex: 11,\n          bottom: 20,\n          fontSize: 12,\n          left: 20,\n          color: '#FFFFFF',\n          opacity: 0.333\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }\n      }, navigator.userAgent, \" - \", JSON.stringify(navigator.mediaDevices)), failMessage);\n    }\n  }]);\n  return ScannerPage;\n}(Component);\nexport { ScannerPage as default };","map":{"version":3,"names":["React","Component","Redirect","i18n","Reader","LegacyReader","qs","require","ScannerPage","props","handleError","error","console","log","setState","legacyMode","onError","handleFailure","scanFail","setTimeout","defaultToLegacyMode","navigator","mediaDevices","state","scanData","pathname","toAddress","search","stringify","parse","failMessage","position","left","top","zIndex","fontSize","color","backgroundColor","opacity","width","height","fontWeight","textAlign","paddingTop","marginBottom","t","padding","right","bottom","margin","background","paddingRight","cursor","goBack","userAgent","JSON"],"sources":["/home/cryptodev/Dev/aegis-burner/src/pages/ScannerPage.js"],"sourcesContent":["import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport i18n from '../i18n'\nimport { Reader, LegacyReader } from '../components/SendByScan'\nconst qs = require('query-string')\n\nexport default class ScannerPage extends Component {\n  constructor (props) {\n    super(props)\n    let defaultToLegacyMode = false\n    if (!navigator || !navigator.mediaDevices) {\n      defaultToLegacyMode = true\n    }\n    this.state = {\n      legacyMode: defaultToLegacyMode,\n      scanFail: false\n    }\n  }\n\n  handleError = error => {\n    console.log('SCAN ERROR')\n    console.error(error)\n    this.setState({ legacyMode: true })\n    this.props.onError(error)\n  }\n\n  handleFailure = (scanFail) => {\n    this.setState({ scanFail })\n    setTimeout(() => { this.setState({ scanFail: false }) }, 3500)\n  }\n\n  render () {\n    const { legacyMode, scanFail, scanData } = this.state\n\n    if (scanData) {\n      return <Redirect to={{ pathname: '/liquidity/send/' + scanData.toAddress, search: qs.stringify({ ...qs.parse(this.props.search), ...scanData.search }) }} />\n    }\n\n    let failMessage = ''\n    if (scanFail) {\n      failMessage = (\n        <div style={{ position: 'absolute', left: 0, top: 0, zIndex: 99, fontSize: 24, color: '#FF0000', backgroundColor: '#333333', opacity: 0.9, width: '100%', height: '100%', fontWeight: 'bold' }}>\n          <div style={{ textAlign: 'center', paddingTop: '15%' }}>\n            <div style={{ marginBottom: 20 }}><i className='fas fa-ban' /></div>\n          </div>\n          <div style={{ textAlign: 'center', paddingTop: '25%' }}>\n            <div>{i18n.t('send_by_scan.try_again')}</div>\n\n          </div>\n          <div style={{ textAlign: 'center', padding: '10%', paddingTop: '15%', fontSize: 16 }}>\n            <div>{scanFail}</div>\n          </div>\n        </div>\n      )\n    }\n\n    return (\n      <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, zIndex: 5, margin: '0 auto !important', background: '#000000' }}>\n        <div style={{ position: 'absolute', zIndex: 256, top: 20, right: 20, fontSize: 80, paddingRight: 20, color: '#FFFFFF', cursor: 'pointer' }} onClick={() => this.props.goBack()}>\n          <i className='fa fa-times' aria-hidden='true' />\n        </div>\n        {legacyMode ? <LegacyReader onSuccess={(scanData) => { this.setState({ scanData }) }} onFail={(scanFail) => { this.handleFailure(scanFail) }} />\n          : <Reader onError={this.handleError} onSuccess={(scanData) => { this.setState({ scanData }) }} onFail={(scanFail) => { this.handleFailure(scanFail) }} />}\n        <div style={{ position: 'absolute', zIndex: 11, bottom: 20, fontSize: 12, left: 20, color: '#FFFFFF', opacity: 0.333 }}>\n          {navigator.userAgent} - {JSON.stringify(navigator.mediaDevices)}\n        </div>\n        {failMessage}\n      </div>\n    )\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}