{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar bignumber_js_1 = __importDefault(require(\"bignumber.js\"));\nvar constants_1 = require(\"../../constants\");\nvar signature_1 = require(\"../../wallet/signature\");\nvar store_1 = require(\"../../store\");\nexports.transformDepositFromServer = function (data) {\n  return {\n    txId: data.txId,\n    block: data.block,\n    eon: data.eon,\n    amount: new bignumber_js_1.default(data.amount)\n  };\n};\nexports.transformTransactionFromServer = function (transactionData) {\n  return {\n    id: transactionData.id,\n    txId: transactionData.txId,\n    amount: new bignumber_js_1.default(transactionData.amount),\n    amountSwapped: transactionData.amountSwapped ? new bignumber_js_1.default(transactionData.amountSwapped) : null,\n    sender: transactionData.wallet,\n    recipient: transactionData.recipient,\n    nonce: new bignumber_js_1.default(transactionData.nonce),\n    passiveMarker: new bignumber_js_1.default(transactionData.passiveMarker),\n    eon: transactionData.eon,\n    time: transactionData.time,\n    swap: transactionData.swap || !!transactionData.amountSwapped,\n    complete: transactionData.complete,\n    voided: transactionData.voided,\n    processed: transactionData.processed,\n    cancelled: transactionData.cancelled,\n    appended: transactionData.appended,\n    matchedAmounts: transactionData.matchedAmounts ? {\n      in: new bignumber_js_1.default(transactionData.matchedAmounts.matchedIn),\n      out: new bignumber_js_1.default(transactionData.matchedAmounts.matchedOut)\n    } : {\n      in: constants_1.BN_ZERO,\n      out: constants_1.BN_ZERO\n    },\n    senderActiveState: exports.transformActiveStateFromServer(transactionData.wallet, transactionData.eon, transactionData.senderActiveState),\n    recipientActiveState: exports.transformActiveStateFromServer(transactionData.wallet, transactionData.eon, transactionData.recipientActiveState),\n    senderCancellationActiveState: exports.transformActiveStateFromServer(transactionData.wallet, transactionData.eon, transactionData.senderCancellationActiveState),\n    recipientCancellationActiveState: exports.transformActiveStateFromServer(transactionData.wallet, transactionData.eon, transactionData.recipientCancellationActiveState),\n    senderFinalizationActiveState: exports.transformActiveStateFromServer(transactionData.wallet, transactionData.eon, transactionData.senderFinalizationActiveState),\n    recipientFinalizationActiveState: exports.transformActiveStateFromServer(transactionData.wallet, transactionData.eon, transactionData.recipientFinalizationActiveState),\n    recipientFulfillmentActiveState: exports.transformActiveStateFromServer(transactionData.wallet, transactionData.eon, transactionData.recipientFulfillmentActiveState)\n  };\n};\nexports.transformActiveStateFromServer = function (wallet, eon, acitveStateData) {\n  if (!acitveStateData) {\n    return null;\n  }\n  var walletSignature = acitveStateData.walletSignature ? signature_1.createSignature(wallet.address, acitveStateData.txSetHash, acitveStateData.walletSignature) : null;\n  var operatorSignature = acitveStateData.operatorSignature ? signature_1.createSignature(store_1.store.contractOwner, acitveStateData.txSetHash, acitveStateData.operatorSignature) : null;\n  return {\n    address: wallet.address,\n    token: wallet.token,\n    eon: eon,\n    trailIdentifier: wallet.trailIdentifier,\n    spent: new bignumber_js_1.default(acitveStateData.updatedSpendings),\n    gained: new bignumber_js_1.default(acitveStateData.updatedGains),\n    transactionSetHash: acitveStateData.txSetHash,\n    operatorSignature: operatorSignature,\n    walletSignature: walletSignature\n  };\n};","map":null,"metadata":{},"sourceType":"script"}