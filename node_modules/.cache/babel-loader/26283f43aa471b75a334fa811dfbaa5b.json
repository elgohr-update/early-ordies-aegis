{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar web3_1 = __importDefault(require(\"web3\"));\nvar store_1 = require(\"../store\");\nvar constants_1 = require(\"../constants\");\nfunction hashActiveState(state, checkSpentAndGained) {\n  if (checkSpentAndGained === void 0) {\n    checkSpentAndGained = false;\n  }\n  var soliditySha3 = web3_1.default.utils.soliditySha3;\n  if (checkSpentAndGained) {\n    if (state.spent === constants_1.BN_ZERO && state.gained === constants_1.BN_ZERO) {\n      return constants_1.EMPTY_HASH;\n    }\n  }\n  return soliditySha3({\n    t: 'bytes32',\n    v: soliditySha3({\n      t: 'address',\n      v: store_1.store.contractAddress\n    })\n  }, {\n    t: 'bytes32',\n    v: soliditySha3({\n      t: 'address',\n      v: state.token\n    })\n  }, {\n    t: 'bytes32',\n    v: soliditySha3({\n      t: 'address',\n      v: state.address\n    })\n  }, {\n    t: 'uint64',\n    v: state.trailIdentifier\n  }, {\n    t: 'uint256',\n    v: state.eon\n  }, {\n    t: 'bytes32',\n    v: state.transactionSetHash\n  }, {\n    t: 'uint256',\n    v: state.spent.toFixed(0)\n  }, {\n    t: 'uint256',\n    v: state.gained.toFixed(0)\n  });\n}\nexports.hashActiveState = hashActiveState;","map":null,"metadata":{},"sourceType":"script"}