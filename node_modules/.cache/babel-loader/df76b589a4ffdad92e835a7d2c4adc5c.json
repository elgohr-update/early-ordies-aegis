{"ast":null,"code":"import _slicedToArray from \"/home/cryptodev/Dev/aegis-burner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/home/cryptodev/Dev/aegis-burner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/cryptodev/Dev/aegis-burner/src/contexts/Nocust.js\";\nimport React, { createContext, useContext, useReducer, useMemo, useCallback, useEffect } from 'react';\nimport { NOCUSTManager } from 'nocust-client';\nimport { nocust } from 'nocust-client';\nimport Web3 from 'web3';\nvar HUB_CONTRACT_ADDRESS = process.env.REACT_APP_HUB_CONTRACT_ADDRESS;\nvar WEB3_PROVIDER = process.env.REACT_APP_WEB3_PROVIDER;\nvar HUB_API_URL = process.env.REACT_APP_HUB_API_URL;\n\n//console.log('HUB_CONTRACT_ADDRESS', HUB_CONTRACT_ADDRESS)\n//console.log('HUB_API_URL', HUB_API_URL)\n\nvar INITIAL_HUB_INFO = {\n  hubContract: HUB_CONTRACT_ADDRESS,\n  hubApiUrl: HUB_API_URL\n};\nvar UPDATE_ERA = 'UPDATE_ERA';\nvar UPDATE_NOCUST = 'UPDATE_NOCUST';\nvar UPDATE_RECOVERY = 'UPDATE_RECOVERY';\nvar UPDATE_SLA = 'UPDATE_SLA';\nexport var NocustContext = createContext();\nexport function useNocustContext() {\n  return useContext(NocustContext);\n}\nfunction reducer(state, _ref) {\n  var type = _ref.type,\n    payload = _ref.payload;\n  switch (type) {\n    case UPDATE_NOCUST:\n      {\n        var _nocust = payload.nocust;\n        return _objectSpread({}, state, {\n          nocust: _nocust\n        });\n      }\n    case UPDATE_ERA:\n      {\n        var eraNumber = payload.eraNumber;\n        return _objectSpread({}, state, {\n          eraNumber: eraNumber\n        });\n      }\n    case UPDATE_RECOVERY:\n      {\n        var isRecovery = payload.isRecovery;\n        return _objectSpread({}, state, {\n          isRecovery: isRecovery\n        });\n      }\n    case UPDATE_SLA:\n      {\n        var slaDetail = payload.slaDetail;\n        return _objectSpread({}, state, {\n          slaDetail: slaDetail\n        });\n      }\n    default:\n      {\n        throw Error(\"Unexpected action type in NocustContext reducer: '\".concat(type, \"'.\"));\n      }\n  }\n}\nexport default function Provider(_ref2) {\n  var web3 = _ref2.web3,\n    children = _ref2.children;\n  var _useReducer = useReducer(reducer, {\n      web3: web3,\n      hub: INITIAL_HUB_INFO\n    }),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    state = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  var updateNocust = useCallback(function (nocust) {\n    dispatch({\n      type: UPDATE_NOCUST,\n      payload: {\n        nocust: nocust\n      }\n    });\n  }, []);\n  var updateEra = useCallback(function (eraNumber) {\n    dispatch({\n      type: UPDATE_ERA,\n      payload: {\n        eraNumber: eraNumber\n      }\n    });\n  }, []);\n  var updateIsRecovery = useCallback(function (isRecovery) {\n    dispatch({\n      type: UPDATE_RECOVERY,\n      payload: {\n        isRecovery: isRecovery\n      }\n    });\n  }, []);\n  var updateSlaDetail = useCallback(function (isRecovery) {\n    dispatch({\n      type: UPDATE_SLA,\n      payload: {\n        isRecovery: isRecovery\n      }\n    });\n  }, []);\n\n  // Poll the hub to keep track of the Era number\n  // Can then use it as a clock to avoid excessive requests to hub\n  useEffect(function () {\n    var test = function test() {\n      var nocust = state.nocust;\n      if (nocust) {\n        console.log('Checking Era');\n        nocust.getEraNumber().then(function (eraNumber) {\n          console.log('Era:', eraNumber);\n          updateEra(eraNumber);\n        }).catch(function () {\n          console.log('setting eraNumber to null');\n          updateEra(null);\n        });\n      }\n    };\n    test();\n    var intervalId = setInterval(test, 10000);\n    return function () {\n      clearInterval(intervalId);\n    };\n  }, [state.nocust]);\n  return /*#__PURE__*/React.createElement(NocustContext.Provider, {\n    value: useMemo(function () {\n      return [state, {\n        updateNocust: updateNocust,\n        updateEra: updateEra,\n        updateIsRecovery: updateIsRecovery,\n        updateSlaDetail: updateSlaDetail\n      }];\n    }, [state, updateNocust, updateEra, updateIsRecovery, updateSlaDetail]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, children);\n}\nexport function useNocustHubInfo() {\n  var _useNocustContext = useNocustContext(),\n    _useNocustContext2 = _slicedToArray(_useNocustContext, 1),\n    state = _useNocustContext2[0];\n  var hub = state.hub;\n  return hub;\n}\nexport function getBlocksPerEon() {\n  var _useNocustContext3 = useNocustContext(),\n    _useNocustContext4 = _slicedToArray(_useNocustContext3, 2),\n    state = _useNocustContext4[0],\n    updateBlocksPerEon = _useNocustContext4[1].updateBlocksPerEon;\n  var nocust = state.nocust,\n    blocksPerEon = state.blocksPerEon;\n  useEffect(function () {\n    if (nocust) {\n      nocust.getBlocksPerEon().then(function (blocksPerEon) {\n        return updateBlocksPerEon(blocksPerEon);\n      }).catch(function () {\n        return updateBlocksPerEon(null);\n      });\n    }\n  }, [nocust]);\n  console.log(state);\n  return blocksPerEon;\n}\n\n//Old NOCUST\nexport function useNocustClient() {\n  var _useNocustContext5 = useNocustContext(),\n    _useNocustContext6 = _slicedToArray(_useNocustContext5, 2),\n    state = _useNocustContext6[0],\n    updateNocust = _useNocustContext6[1].updateNocust;\n  var web3 = state.web3,\n    nocust = state.nocust;\n  useEffect(function () {\n    if (web3 && !nocust) {\n      try {\n        var nocustManager = new NOCUSTManager({\n          rpcApi: web3,\n          operatorApiUrl: HUB_API_URL,\n          contractAddress: HUB_CONTRACT_ADDRESS\n        });\n        updateNocust(nocustManager);\n        console.log('new nocust-client');\n      } catch (e) {\n        updateNocust(null);\n        console.log('no nocust-client');\n      }\n    }\n  });\n  return nocust;\n}\nexport function useIsRecovery() {\n  var _useNocustContext7 = useNocustContext(),\n    _useNocustContext8 = _slicedToArray(_useNocustContext7, 2),\n    state = _useNocustContext8[0],\n    updateIsRecovery = _useNocustContext8[1].updateIsRecovery;\n  var nocust = state.nocust,\n    isRecovery = state.isRecovery,\n    eraNumber = state.eraNumber;\n  useEffect(function () {\n    if (nocust) {\n      nocust.isRecovery().then(function (isRecovery) {\n        return updateIsRecovery(isRecovery);\n      }).catch(function () {\n        return updateIsRecovery(false);\n      });\n    }\n  }, [eraNumber]);\n  return isRecovery;\n}\nexport function useEraNumber() {\n  var _useNocustContext9 = useNocustContext(),\n    _useNocustContext10 = _slicedToArray(_useNocustContext9, 1),\n    state = _useNocustContext10[0];\n  var eraNumber = state.eraNumber;\n  return eraNumber;\n}\nexport function useSlaDetail(address) {\n  var _useNocustContext11 = useNocustContext(),\n    _useNocustContext12 = _slicedToArray(_useNocustContext11, 2),\n    state = _useNocustContext12[0],\n    updateSlaDetail = _useNocustContext12[1].updateSlaDetail;\n  var nocust = state.nocust,\n    eraNumber = state.eraNumber,\n    slaDetail = state.slaDetail;\n  useEffect(function () {\n    if (nocust) {\n      nocust.getSLADetail().then(function (slaDetail) {\n        return updateSlaDetail(slaDetail);\n      }).catch(function (slaDetail) {\n        return updateSlaDetail({});\n      });\n    }\n  }, [address, eraNumber]);\n  return slaDetail;\n}","map":{"version":3,"names":["React","createContext","useContext","useReducer","useMemo","useCallback","useEffect","NOCUSTManager","nocust","Web3","HUB_CONTRACT_ADDRESS","process","env","REACT_APP_HUB_CONTRACT_ADDRESS","WEB3_PROVIDER","REACT_APP_WEB3_PROVIDER","HUB_API_URL","REACT_APP_HUB_API_URL","INITIAL_HUB_INFO","hubContract","hubApiUrl","UPDATE_ERA","UPDATE_NOCUST","UPDATE_RECOVERY","UPDATE_SLA","NocustContext","useNocustContext","reducer","state","type","payload","eraNumber","isRecovery","slaDetail","Error","Provider","web3","children","hub","dispatch","updateNocust","updateEra","updateIsRecovery","updateSlaDetail","test","console","log","getEraNumber","then","catch","intervalId","setInterval","clearInterval","useNocustHubInfo","getBlocksPerEon","updateBlocksPerEon","blocksPerEon","useNocustClient","nocustManager","rpcApi","operatorApiUrl","contractAddress","e","useIsRecovery","useEraNumber","useSlaDetail","address","getSLADetail"],"sources":["/home/cryptodev/Dev/aegis-burner/src/contexts/Nocust.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useMemo, useCallback, useEffect } from 'react'\n\nimport { NOCUSTManager } from 'nocust-client'\n\nimport { nocust } from 'nocust-client'\nimport Web3 from 'web3'\n\nconst HUB_CONTRACT_ADDRESS = process.env.REACT_APP_HUB_CONTRACT_ADDRESS\nconst WEB3_PROVIDER = process.env.REACT_APP_WEB3_PROVIDER\nconst HUB_API_URL = process.env.REACT_APP_HUB_API_URL\n\n//console.log('HUB_CONTRACT_ADDRESS', HUB_CONTRACT_ADDRESS)\n//console.log('HUB_API_URL', HUB_API_URL)\n\nconst INITIAL_HUB_INFO = {\n  hubContract: HUB_CONTRACT_ADDRESS,\n  hubApiUrl: HUB_API_URL\n}\n\nconst UPDATE_ERA = 'UPDATE_ERA'\nconst UPDATE_NOCUST = 'UPDATE_NOCUST'\nconst UPDATE_RECOVERY = 'UPDATE_RECOVERY'\nconst UPDATE_SLA = 'UPDATE_SLA'\n\nexport const NocustContext = createContext()\n\nexport function useNocustContext () {\n  return useContext(NocustContext)\n}\n\nfunction reducer (state, { type, payload }) {\n  switch (type) {\n    case UPDATE_NOCUST: {\n      const { nocust } = payload\n      return {\n        ...state,\n        nocust\n      }\n    }\n    case UPDATE_ERA: {\n      const { eraNumber } = payload\n      return {\n        ...state,\n        eraNumber\n      }\n    }\n    case UPDATE_RECOVERY: {\n      const { isRecovery } = payload\n      return {\n        ...state,\n        isRecovery\n      }\n    }\n    case UPDATE_SLA: {\n      const { slaDetail } = payload\n      return {\n        ...state,\n        slaDetail\n      }\n    }\n    default: {\n      throw Error(`Unexpected action type in NocustContext reducer: '${type}'.`)\n    }\n  }\n}\n\nexport default function Provider ({ web3, children }) {\n  const [state, dispatch] = useReducer(reducer, { web3: web3, hub: INITIAL_HUB_INFO })\n\n  const updateNocust = useCallback((nocust) => {\n    dispatch({ type: UPDATE_NOCUST, payload: { nocust } })\n  }, [])\n\n  const updateEra = useCallback((eraNumber) => {\n    dispatch({ type: UPDATE_ERA, payload: { eraNumber } })\n  }, [])\n\n  const updateIsRecovery = useCallback((isRecovery) => {\n    dispatch({ type: UPDATE_RECOVERY, payload: { isRecovery } })\n  }, [])\n\n  const updateSlaDetail = useCallback((isRecovery) => {\n    dispatch({ type: UPDATE_SLA, payload: { isRecovery } })\n  }, [])\n\n  // Poll the hub to keep track of the Era number\n  // Can then use it as a clock to avoid excessive requests to hub\n  useEffect(() => {\n    const test = () => {\n      const { nocust } = state\n      if (nocust) {\n        console.log('Checking Era')\n        nocust.getEraNumber()\n          .then(eraNumber => {\n            console.log('Era:', eraNumber)\n            updateEra(eraNumber)\n          })\n          .catch(() => {\n            console.log('setting eraNumber to null')\n            updateEra(null)\n          })\n      }\n    }\n\n    test()\n    const intervalId = setInterval(test, 10000)\n    return () => { clearInterval(intervalId) }\n  }, [state.nocust])\n\n  return (\n    <NocustContext.Provider value={useMemo(() => [state, { updateNocust, updateEra, updateIsRecovery, updateSlaDetail }], [state, updateNocust, updateEra, updateIsRecovery, updateSlaDetail])}>\n      {children}\n    </NocustContext.Provider>\n  )\n}\n\nexport function useNocustHubInfo () {\n  const [state] = useNocustContext()\n  const { hub } = state\n\n  return hub\n}\n\nexport function getBlocksPerEon () {\n  const [state, { updateBlocksPerEon }] = useNocustContext()\n  const { nocust, blocksPerEon } = state\n\n  useEffect(() => {\n    if (nocust) {\n      nocust.getBlocksPerEon()\n        .then((blocksPerEon) => updateBlocksPerEon(blocksPerEon))\n        .catch(() => updateBlocksPerEon(null))\n    }\n  }, [nocust])\n  console.log(state)\n\n  return blocksPerEon\n}\n\n//Old NOCUST\nexport function useNocustClient () {\n  const [state, { updateNocust }] = useNocustContext()\n  const { web3, nocust } = state\n\n  useEffect(() => {\n    if (web3 && !nocust) {\n      try {\n        const nocustManager = new NOCUSTManager({\n          rpcApi: web3,\n          operatorApiUrl: HUB_API_URL,\n          contractAddress: HUB_CONTRACT_ADDRESS\n        })\n      \n        updateNocust(nocustManager)\n        console.log('new nocust-client')\n      } catch (e) {\n        updateNocust(null)\n        console.log('no nocust-client')\n      }\n    }\n  })\n\n  return nocust\n}\n\nexport function useIsRecovery () {\n  const [state, { updateIsRecovery }] = useNocustContext()\n  const { nocust, isRecovery, eraNumber } = state\n\n  useEffect(() => {\n    if (nocust) {\n      nocust.isRecovery()\n        .then(isRecovery => updateIsRecovery(isRecovery))\n        .catch(() => updateIsRecovery(false))\n    }\n  }, [eraNumber])\n\n  return isRecovery\n}\n\nexport function useEraNumber () {\n  const [state] = useNocustContext()\n  const { eraNumber } = state\n\n  return eraNumber\n}\n\nexport function useSlaDetail (address) {\n  const [state, { updateSlaDetail }] = useNocustContext()\n  const { nocust, eraNumber, slaDetail } = state\n\n  useEffect(() => {\n    if (nocust) {\n      nocust.getSLADetail()\n        .then((slaDetail) => updateSlaDetail(slaDetail))\n        .catch((slaDetail) => updateSlaDetail({}))\n    }\n  }, [address, eraNumber])\n\n  return slaDetail\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}